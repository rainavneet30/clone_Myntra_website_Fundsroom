{"ast":null,"code":"import * as types from \"./types\";\nconst TOKEN = localStorage.getItem(\"token\");\nconst initialState = {\n  userLogin: {\n    loading: false,\n    error: false,\n    message: \"\"\n  },\n  userRegister: {\n    loading: false,\n    error: false,\n    message: \"\"\n  },\n  data: {\n    isAuthenticated: !!TOKEN,\n    token: TOKEN,\n    user: JSON.parse(localStorage.getItem(\"user\")) || null\n  }\n};\nexport function authReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 ? arguments[1] : undefined;\n  switch (type) {\n    case types.LOGIN_USER_REQUEST:\n      return {\n        ...state,\n        userLogin: {\n          loading: true,\n          error: false\n        }\n      };\n    case types.LOGIN_USER_SUCCESS:\n      localStorage.setItem(\"token\", payload.token);\n      return {\n        ...state,\n        userLogin: {\n          loading: false,\n          error: false,\n          message: payload.message\n        },\n        data: {\n          isAuthenticated: true,\n          token: payload.token,\n          user: payload.user\n        }\n      };\n    case types.LOGIN_USER_ERROR:\n      return {\n        ...state,\n        userLogin: {\n          loading: false,\n          error: true,\n          message: \"Error\"\n        }\n      };\n    case types.AUTH_LOGOUT:\n      localStorage.removeItem(\"token\");\n      return {\n        ...state,\n        data: {\n          isAuthenticated: false,\n          token: null,\n          user: null\n        }\n      };\n    case types.REGISTER_USER_REQUEST:\n      return {\n        ...state,\n        userRegister: {\n          loading: true,\n          error: false\n        }\n      };\n    case types.REGISTER_USER_SUCCESS:\n      localStorage.setItem(\"token\", payload.token);\n      return {\n        ...state,\n        userRegister: {\n          loading: false,\n          error: false,\n          message: payload.message\n        },\n        data: {\n          isAuthenticated: true,\n          token: payload.token,\n          user: payload.user\n        }\n      };\n    case types.REGISTER_USER_ERROR:\n      return {\n        ...state,\n        userRegister: {\n          loading: false,\n          error: true,\n          message: \"Error\"\n        }\n      };\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["types","TOKEN","localStorage","getItem","initialState","userLogin","loading","error","message","userRegister","data","isAuthenticated","token","user","JSON","parse","authReducer","state","type","payload","LOGIN_USER_REQUEST","LOGIN_USER_SUCCESS","setItem","LOGIN_USER_ERROR","AUTH_LOGOUT","removeItem","REGISTER_USER_REQUEST","REGISTER_USER_SUCCESS","REGISTER_USER_ERROR"],"sources":["C:/Users/DELL/OneDrive/Desktop/Myntra-Frontend-master/Myntra-Frontend-master/src/Redux/auth/reducer.js"],"sourcesContent":["import * as types from \"./types\";\nconst TOKEN = localStorage.getItem(\"token\");\nconst initialState = {\n  userLogin: { loading: false, error: false, message: \"\" },\n  userRegister: { loading: false, error: false, message: \"\" },\n  data: {\n    isAuthenticated: !!TOKEN,\n    token: TOKEN,\n    user: JSON.parse(localStorage.getItem(\"user\")) || null,\n  },\n};\n\nexport function authReducer(state = initialState, { type, payload }) {\n  switch (type) {\n    case types.LOGIN_USER_REQUEST:\n      return {\n        ...state,\n        userLogin: { loading: true, error: false },\n      };\n    case types.LOGIN_USER_SUCCESS:\n      localStorage.setItem(\"token\", payload.token);\n      return {\n        ...state,\n        userLogin: { loading: false, error: false, message: payload.message },\n        data: {\n          isAuthenticated: true,\n          token: payload.token,\n          user: payload.user,\n        },\n      };\n    case types.LOGIN_USER_ERROR:\n      return {\n        ...state,\n        userLogin: { loading: false, error: true, message: \"Error\" },\n      };\n\n    case types.AUTH_LOGOUT:\n      localStorage.removeItem(\"token\");\n      return {\n        ...state,\n        data: {\n          isAuthenticated: false,\n          token: null,\n          user: null,\n        },\n      };\n\n    case types.REGISTER_USER_REQUEST:\n      return {\n        ...state,\n        userRegister: { loading: true, error: false },\n      };\n    case types.REGISTER_USER_SUCCESS:\n      localStorage.setItem(\"token\", payload.token);\n      return {\n        ...state,\n        userRegister: {\n          loading: false,\n          error: false,\n          message: payload.message,\n        },\n        data: {\n          isAuthenticated: true,\n          token: payload.token,\n          user: payload.user,\n        },\n      };\n    case types.REGISTER_USER_ERROR:\n      return {\n        ...state,\n        userRegister: { loading: false, error: true, message: \"Error\" },\n      };\n    default:\n      return state;\n  }\n}\n"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,SAAS;AAChC,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;AAC3C,MAAMC,YAAY,GAAG;EACnBC,SAAS,EAAE;IAAEC,OAAO,EAAE,KAAK;IAAEC,KAAK,EAAE,KAAK;IAAEC,OAAO,EAAE;EAAG,CAAC;EACxDC,YAAY,EAAE;IAAEH,OAAO,EAAE,KAAK;IAAEC,KAAK,EAAE,KAAK;IAAEC,OAAO,EAAE;EAAG,CAAC;EAC3DE,IAAI,EAAE;IACJC,eAAe,EAAE,CAAC,CAACV,KAAK;IACxBW,KAAK,EAAEX,KAAK;IACZY,IAAI,EAAEC,IAAI,CAACC,KAAK,CAACb,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI;EACpD;AACF,CAAC;AAED,OAAO,SAASa,WAAW,GAA0C;EAAA,IAAzCC,KAAK,uEAAGb,YAAY;EAAA,IAAE;IAAEc,IAAI;IAAEC;EAAQ,CAAC;EACjE,QAAQD,IAAI;IACV,KAAKlB,KAAK,CAACoB,kBAAkB;MAC3B,OAAO;QACL,GAAGH,KAAK;QACRZ,SAAS,EAAE;UAAEC,OAAO,EAAE,IAAI;UAAEC,KAAK,EAAE;QAAM;MAC3C,CAAC;IACH,KAAKP,KAAK,CAACqB,kBAAkB;MAC3BnB,YAAY,CAACoB,OAAO,CAAC,OAAO,EAAEH,OAAO,CAACP,KAAK,CAAC;MAC5C,OAAO;QACL,GAAGK,KAAK;QACRZ,SAAS,EAAE;UAAEC,OAAO,EAAE,KAAK;UAAEC,KAAK,EAAE,KAAK;UAAEC,OAAO,EAAEW,OAAO,CAACX;QAAQ,CAAC;QACrEE,IAAI,EAAE;UACJC,eAAe,EAAE,IAAI;UACrBC,KAAK,EAAEO,OAAO,CAACP,KAAK;UACpBC,IAAI,EAAEM,OAAO,CAACN;QAChB;MACF,CAAC;IACH,KAAKb,KAAK,CAACuB,gBAAgB;MACzB,OAAO;QACL,GAAGN,KAAK;QACRZ,SAAS,EAAE;UAAEC,OAAO,EAAE,KAAK;UAAEC,KAAK,EAAE,IAAI;UAAEC,OAAO,EAAE;QAAQ;MAC7D,CAAC;IAEH,KAAKR,KAAK,CAACwB,WAAW;MACpBtB,YAAY,CAACuB,UAAU,CAAC,OAAO,CAAC;MAChC,OAAO;QACL,GAAGR,KAAK;QACRP,IAAI,EAAE;UACJC,eAAe,EAAE,KAAK;UACtBC,KAAK,EAAE,IAAI;UACXC,IAAI,EAAE;QACR;MACF,CAAC;IAEH,KAAKb,KAAK,CAAC0B,qBAAqB;MAC9B,OAAO;QACL,GAAGT,KAAK;QACRR,YAAY,EAAE;UAAEH,OAAO,EAAE,IAAI;UAAEC,KAAK,EAAE;QAAM;MAC9C,CAAC;IACH,KAAKP,KAAK,CAAC2B,qBAAqB;MAC9BzB,YAAY,CAACoB,OAAO,CAAC,OAAO,EAAEH,OAAO,CAACP,KAAK,CAAC;MAC5C,OAAO;QACL,GAAGK,KAAK;QACRR,YAAY,EAAE;UACZH,OAAO,EAAE,KAAK;UACdC,KAAK,EAAE,KAAK;UACZC,OAAO,EAAEW,OAAO,CAACX;QACnB,CAAC;QACDE,IAAI,EAAE;UACJC,eAAe,EAAE,IAAI;UACrBC,KAAK,EAAEO,OAAO,CAACP,KAAK;UACpBC,IAAI,EAAEM,OAAO,CAACN;QAChB;MACF,CAAC;IACH,KAAKb,KAAK,CAAC4B,mBAAmB;MAC5B,OAAO;QACL,GAAGX,KAAK;QACRR,YAAY,EAAE;UAAEH,OAAO,EAAE,KAAK;UAAEC,KAAK,EAAE,IAAI;UAAEC,OAAO,EAAE;QAAQ;MAChE,CAAC;IACH;MACE,OAAOS,KAAK;EAAC;AAEnB"},"metadata":{},"sourceType":"module","externalDependencies":[]}